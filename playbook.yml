- hosts: all
  user: centos
  become: yes 
  become_user: root
  
  roles:
    - etais 

  tasks:
  - name: Testing this out
    debug: msg=Hello user {{ansible_user_id}} on server {{ansible_hostname}}!

- hosts: localhost
  user: centos
  become: yes
  vars:
    - hostname: c31348
    - domain_name: sa.cs.ut.ee
      #this has to be changed on /etc and /var if you want that something happen 
    - etc: /home/centos/etc
    - var: /home/centos/var
    - home: /home/centos
    - sql_root_password: "sql2023/tropbien!"
    - roundcube_pass: "9LTm26KHyTFwXwjZ2rkduA=="

  roles:
   - { role: etais, tags: etais}
   - { role: dns, tags: dns }
   - { role: apache, tags: apache}
   - { role: proxy, tags: proxy}
   - { role: wordpress, tags: wordpress}
   - { role: postfix, tags: postfix}
   - { role: dovecot, tags: dovecot}
   - { role: mailbox, tags: mailbox}
